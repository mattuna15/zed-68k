00A00008 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 31/07/2020 20:50:44

00000000  =00F00009                  1  ACIAC    EQU $F00009
00000000  =00F0000B                  2  ACIAD    EQU ACIAC+2
00000000                             3  
00000000  =00F20009                  4  ACIA2C    EQU $F20009
00000000  =00F2000B                  5  ACIA2D    EQU ACIA2C+2
00000000                             6  
00000000  =00002000                  7  INT_ON   EQU  $2000    ; BOTH, SET SUPERVISOR MODE, S=1
00000000  =00002700                  8  INT_OFF  EQU  $2700
00000000                             9  
00000000  =00000000                 10  RDRF    EQU 0           ; ACIAC Receive Data Register Full
00000000  =00000001                 11  TDRE    EQU 1           ; ACIAC Transmit Data Register Empty
00000000                            12  
00000000  =00000005                 13  SUPERVISOR_BIT EQU 5
00000000                            14  
00000000  =00000007                 15  TRACE_BIT EQU 7
00000000                            16  
00000000  =0000000D                 17  CR      EQU 13
00000000  =0000000A                 18  LF      EQU 10
00000000  =00000020                 19  SP      EQU 32
00000000  =00000008                 20  BS      EQU 8
00000000  =0000001E                 21  RS      EQU $1E
00000000  =0000001B                 22  ESC     EQU $1B
00000000                            23  
00000000  =0000E000                 24  SUPER_STACK   EQU $00E000   ; SUPER STACK TOP Address
00000000  =0000E000                 25  RAMBASE_INIT  EQU $00E000
00000000                            26  
00000000                            27  
00000000                            28  
000000C0                            29     ORG $C0
000000C0                            30  RAMBASE  DS.L   1          ; RAM BASE ADDRESS
000000C4                            31  
00A00000                            32      ORG $A00000
00A00000                            33     ; Reset start vector
00A00000= 0000E000                  34     DC.L SUPER_STACK        ; TOP OF SUPERVISOR STACK $130000
00A00004= 00A00008                  35     DC.L MAIN               ; MONITOR START
00A00008                            36     
00A00008  46FC 2700                 37  MAIN MOVE.W #INT_OFF,SR 
00A0000C  6100 002A                 38       BSR INIT_ACIA
00A00010                            39     
00A00010  47F9 00A00098             40      LEA.L TITLE1.L,A3     ; print START MESSAGE
00A00016  6100 0072                 41      BSR PSTR
00A0001A                            42      
00A0001A                            43  GET_DATA
00A0001A  47F9 00A000A3             44      LEA.L WAITING.L,A3     ; print START MESSAGE
00A00020  6100 0068                 45      BSR PSTR
00A00024                            46     
00A00024  6100 003E                 47      BSR CINS
00A00028  6100 0028                 48      BSR COUT
00A0002C                            49      
00A0002C  47F9 00A000B8             50      LEA.L RECVD.L,A3     ; print START MESSAGE
00A00032  6100 0056                 51      BSR PSTR
00A00036  60E2                      52      BRA GET_DATA
00A00038                            53  
00A00038                            54  
00A00038                            55     
00A00038                            56     ; INIT ACIA
00A00038                            57  
00A00038  13FC 0003 00F00009        58  INIT_ACIA  MOVE.B #3,ACIAC.L   ; RESET ACIA
00A00040  303C 0064                 59             MOVE.W #100,D0
00A00044  51C8 FFFE                 60             DBRA  D0,*
00A00048  13FC 0015 00F00009        61             MOVE.B #$15,ACIAC.L   ; rts enabled 9600 8ne
00A00050  4E75                      62             RTS
00A00052                            63  
00A00052  0839 0001 00F00009        64  COUT      BTST.B #TDRE,ACIAC.L
00A0005A  67F6                      65            BEQ.S  COUT
00A0005C  13C0 00F0000B             66            MOVE.B D0,ACIAD.L
00A00062  4E75                      67            RTS
00A00064                            68  
00A00064                            69  
00A00064  0839 0000 00F20009        70  CINS      BTST.B #RDRF,ACIA2C.L
00A0006C  67F6                      71            BEQ.S  CINS
00A0006E  1039 00F2000B             72            MOVE.B ACIA2D.L,D0
00A00074  4E75                      73            RTS
00A00076                            74  
00A00076                            75  
00A00076  0839 0000 00F00009        76  CIN      BTST.B #RDRF,ACIAC.L
00A0007E  67F6                      77           BEQ.S  CIN
00A00080  1039 00F0000B             78           MOVE.B ACIAD.L,D0
00A00086  61CA                      79           BSR COUT
00A00088  4E75                      80           RTS
00A0008A                            81           
00A0008A                            82  ; A3 POINTED TO FIRST BYTE
00A0008A                            83  ; END WITH 0
00A0008A                            84  
00A0008A  101B                      85  PSTR     MOVE.B (A3)+,D0
00A0008C  B03C 0000                 86           CMP.B  #0,D0
00A00090  6704                      87           BEQ.S PSTR1
00A00092  61BE                      88           BSR COUT
00A00094  60F4                      89           BRA.S PSTR
00A00096                            90  
00A00096  4E75                      91  PSTR1    RTS
00A00098                            92  
00A00098                            93  
00A00098= 0D 0A 4C 6F 61 64 ...     94  TITLE1 DC.B 13,10,'Loader',13,10,0
00A000A3= 0D 0A 57 61 69 74 ...     95  WAITING DC.B 13,10,'Waiting for Data',13,10,0
00A000B8= 0D 0A 42 79 74 65 ...     96  RECVD DC.B 13,10,'Byte Received',13,10,0
00A000CA                            97  
00A000CA                            98      
00A000CA                            99      END MAIN

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ACIA2C              F20009
ACIA2D              F2000B
ACIAC               F00009
ACIAD               F0000B
BS                  8
CIN                 A00076
CINS                A00064
COUT                A00052
CR                  D
ESC                 1B
GET_DATA            A0001A
INIT_ACIA           A00038
INT_OFF             2700
INT_ON              2000
LF                  A
MAIN                A00008
PSTR                A0008A
PSTR1               A00096
RAMBASE             C0
RAMBASE_INIT        E000
RDRF                0
RECVD               A000B8
RS                  1E
SP                  20
SUPERVISOR_BIT      5
SUPER_STACK         E000
TDRE                1
TITLE1              A00098
TRACE_BIT           7
WAITING             A000A3
