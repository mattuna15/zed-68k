00002008 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 24/08/2020 20:33:07

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------
00000000                             7      
00000000  =00A00BB4                  8  MON     EQU $A00BB4
00000000  =00F00009                  9  ACIAC    EQU $F00009
00000000  =00F0000B                 10  ACIAD    EQU ACIAC+2
00000000                            11  
00000000  =00F20009                 12  ACIA2C    EQU $F20009
00000000  =00F2000B                 13  ACIA2D    EQU ACIA2C+2
00000000                            14  
00000000  =00002000                 15  INT_ON   EQU  $2000    ; BOTH, SET SUPERVISOR MODE, S=1
00000000  =00002700                 16  INT_OFF  EQU  $2700
00000000                            17  
00000000  =00000000                 18  RDRF    EQU 0           ; ACIAC Receive Data Register Full
00000000  =00000001                 19  TDRE    EQU 1           ; ACIAC Transmit Data Register Empty
00000000                            20  
00000000  =00000005                 21  SUPERVISOR_BIT EQU 5
00000000                            22  
00000000  =00000007                 23  TRACE_BIT EQU 7
00000000                            24  
00000000  =0000000D                 25  CR      EQU 13
00000000  =0000000A                 26  LF      EQU 10
00000000  =00000020                 27  SP      EQU 32
00000000  =00000008                 28  BS      EQU 8
00000000  =0000001E                 29  RS      EQU $1E
00000000  =0000001B                 30  ESC     EQU $1B
00000000                            31  
00000000  =0000E000                 32  SUPER_STACK   EQU $00E000   ; SUPER STACK TOP Address
00000000  =0000E000                 33  RAMBASE_INIT  EQU $00E000
00000000                            34  
000000C0                            35     ORG $C0
000000C0                            36  RAMBASE  DS.L   1          ; RAM BASE ADDRESS
000000C4                            37  
00002000                            38      ORG $2000
00002000                            39     ; Reset start vector
00002000= 0000E000                  40     DC.L SUPER_STACK        ; TOP OF SUPERVISOR STACK $130000
00002004= 00002008                  41     DC.L MAIN               ; MONITOR START
00002008                            42    
00002008                            43   
00002008                            44  
00002008  46FC 2700                 45  MAIN MOVE.W #INT_OFF,SR 
0000200C  6100 003A                 46       BSR INIT_ACIA
00002010                            47     
00002010  47F9 000020A8             48      LEA.L TITLE1.L,A3     ; print START MESSAGE
00002016  6100 0082                 49      BSR PSTR
0000201A                            50  
0000201A                            51           
0000201A                            52  VBLK:    ;CHECK FOR NON-ZERO IN VBLANK
0000201A  47F9 000020B9             53           LEA.L WAITING.L,A3     ; print START MESSAGE
00002020  6100 0078                 54           BSR PSTR
00002024                            55           
00002024  0C79 0000 00C05006        56           CMPi.W #$0000, $C05006 
0000202C  67EC                      57           BEQ VBLK
0000202E                            58           
0000202E                            59  VBLK2:  
0000202E  47F9 000020CB             60           LEA.L WAITING0.L,A3     ; print START MESSAGE
00002034  6100 0064                 61           BSR PSTR
00002038  0C79 0000 00C05006        62           CMPi.W #$0000, $C05006 
00002040  66EC                      63           BNE VBLK2
00002042                            64           
00002042  4EF9 00A00BB4             65           JMP MON.l
00002048                            66  * Put variables and constants here
00002048                            67  
00002048                            68     
00002048                            69     ; INIT ACIA
00002048                            70  
00002048  13FC 0003 00F00009        71  INIT_ACIA  MOVE.B #3,ACIAC.L   ; RESET ACIA
00002050  303C 0064                 72             MOVE.W #100,D0
00002054  51C8 FFFE                 73             DBRA  D0,*
00002058  13FC 0015 00F00009        74             MOVE.B #$15,ACIAC.L   ; rts enabled 9600 8ne
00002060  4E75                      75             RTS
00002062                            76  
00002062  0839 0001 00F00009        77  COUT      BTST.B #TDRE,ACIAC.L
0000206A  67F6                      78            BEQ.S  COUT
0000206C  13C0 00F0000B             79            MOVE.B D0,ACIAD.L
00002072  4E75                      80            RTS
00002074                            81  
00002074                            82  
00002074  0839 0000 00F20009        83  CINS      BTST.B #RDRF,ACIA2C.L
0000207C  67F6                      84            BEQ.S  CINS
0000207E  1039 00F2000B             85            MOVE.B ACIA2D.L,D0
00002084  4E75                      86            RTS
00002086                            87  
00002086                            88  
00002086  0839 0000 00F00009        89  CIN      BTST.B #RDRF,ACIAC.L
0000208E  67F6                      90           BEQ.S  CIN
00002090  1039 00F0000B             91           MOVE.B ACIAD.L,D0
00002096  61CA                      92           BSR COUT
00002098  4E75                      93           RTS
0000209A                            94           
0000209A                            95  ; A3 POINTED TO FIRST BYTE
0000209A                            96  ; END WITH 0
0000209A                            97  
0000209A  101B                      98  PSTR     MOVE.B (A3)+,D0
0000209C  B03C 0000                 99           CMP.B  #0,D0
000020A0  6704                     100           BEQ.S PSTR1
000020A2  61BE                     101           BSR COUT
000020A4  60F4                     102           BRA.S PSTR
000020A6                           103  
000020A6  4E75                     104  PSTR1    RTS
000020A8                           105  
000020A8                           106  
000020A8= 0D 0A 42 6C 61 6E 6B     107  TITLE1 DC.B 13,10,'Blank tester',13,10,0
          20 74 65 73 74 65 72  
          0D 0A 00              
000020B9= 0D 0A 77 61 69 74 69     110  WAITING DC.B 13,10,'waiting for 1',13,10,0
          6E 67 20 66 6F 72 20  
          31 0D 0A 00           
000020CB= 0D 0A 77 61 69 74 69     113  WAITING0 DC.B 13,10,'waiting for 0',13,10,0 
          6E 67 20 66 6F 72 20  
          30 0D 0A 00           
000020DD                           116  
000020DD                           117  
000020DD                           118      END    MAIN        ; last line of source

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ACIA2C              F20009
ACIA2D              F2000B
ACIAC               F00009
ACIAD               F0000B
BS                  8
CIN                 2086
CINS                2074
COUT                2062
CR                  D
ESC                 1B
INIT_ACIA           2048
INT_OFF             2700
INT_ON              2000
LF                  A
MAIN                2008
MON                 A00BB4
PSTR                209A
PSTR1               20A6
RAMBASE             C0
RAMBASE_INIT        E000
RDRF                0
RS                  1E
SP                  20
SUPERVISOR_BIT      5
SUPER_STACK         E000
TDRE                1
TITLE1              20A8
TRACE_BIT           7
VBLK                201A
VBLK2               202E
WAITING             20B9
WAITING0            20CB
